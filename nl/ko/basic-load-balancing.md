---

copyright:
  years: 2017, 2018
lastupdated: "2018-11-07"

keywords: basics, load balancing

subcollection: loadbalancer-service

---

{:shortdesc: .shortdesc}
{:new_window: target="_blank"}
{:codeblock: .codeblock}
{:pre: .pre}
{:screen: .screen}
{:tip: .tip}
{:download: .download}
{:important: .important}
{:note: .note}

# IBM Cloud Load Balancer 기본 기능 수행
{: #performing-ibm-cloud-load-balancer-basics}

IBM© Cloud Load Balancer 서비스는 동일한 데이터 센터 내에 로컬로 상주하는 다중 서버 인스턴스(Bare Metal 및 Virtual Server)에 트래픽을 분배합니다.

## 공용 로드 밸런서
{: #public-load-balancer}

공용으로 액세스 가능하며 완전한 도메인 이름은 로드 밸런서 서비스 인스턴스에 지정됩니다. 이 도메인 이름을 사용하여 로드 밸런서 서비스 뒤에 호스팅된 애플리케이션에 액세스해야 합니다. 이 도메인 이름은 하나 이상의 공인 IP 주소로 등록될 수 있습니다. 공인 IP 주소와 공인 IP 주소의 수는 유지보수 및 스케일링 활동을 기반으로 시간이 지나면서 변경될 수 있으며 일반 사용자는 이를 인식할 수 있습니다. 애플리케이션을 호스팅하는 백엔드 컴퓨팅 인스턴스는 IBM Cloud 사설 네트워크에 있어야 합니다.

우수 사례로, 백엔드 서버에 직접적인 공용 연결이 필요하지 않은 경우 백엔드 서버를 '개인 전용'으로 프로비저닝하는 것을 권장합니다. 이 사례는 더욱 안전한 보안을 확립하는 데 도움이 되며 공용 IP 주소를 유지합니다. 백엔드 서버에 호스팅된 애플리케이션은 로드 밸런서를 사용한 공용 네트워크를 통해 계속해서 액세스할 수 있습니다.
{: note}  

로드 밸런서 서비스 인스턴스를 작성할 때 사용자 계정 아래의 IBM 시스템 풀(기본값) 또는 공용 VLAN에서 로드 밸런서 공용 IP 주소를 할당하도록 선택할 수 있습니다.

## 내부 로드 밸런서
{: #internal-load-balancer}

내부 로드 밸런서는 IBM Cloud 사설 네트워크 내에서만 액세스 가능합니다.

공용 로드 밸런서와 마찬가지로 내부 로드 밸런서 서비스 인스턴스에도 완전한 도메인 이름이 지정됩니다. 그러나 이 도메인 이름은 하나 이상의 사설 IP 주소로 등록됩니다.

공용 로드 밸런서와 유사하게, 사설 IP 주소와 사설 IP 주소의 수는 유지보수 및 스케일링 활동을 기반으로 시간이 지나면서 변경될 수 있으며 일반 사용자는 이를 인식할 수 있습니다.

또한 애플리케이션을 호스팅하는 백엔드 컴퓨팅 인스턴스도 IBM Cloud 사설 네트워크에 있어야 합니다.
{: note}

## 프론트 엔드 및 백엔드 애플리케이션 포트/프로토콜
{: #front-end-and-back-end-application-ports-protocols}

백엔드 애플리케이션 서버에서 최대 열 개의 프론트 엔드 애플리케이션 포트(프로토콜)를 정의하고 이를 각 포트(프로토콜)에 맵핑할 수 있습니다. 로드 밸런서 서비스 인스턴스에 지정된 완전한 도메인 이름 및 프론트 엔드 애플리케이션 포트는 외부에 공개됩니다. 수신되는 사용자 요청은 이 포트에서 수신됩니다.

반면에 백엔드 포트는 내부적으로만 알려져 있습니다. 이 백엔드 포트는 프론트 엔드 포트와 동일하거나 동일하지 않을 수 있습니다. 예를 들어, 로드 밸런서는 프론트 엔드 포트 80에서 수신 웹/HTTL 트래픽을 수신하도록 구성될 수 있고 백엔드 서버는 사용자 정의 포트 81에서 청취 중입니다.

지원되는 프론트 엔드 포트/프로토콜은 HTTP, HTTPS 및 TCP입니다. 지원되는 백엔드 포트/프로토콜도 HTTP, HTTPS 및 TCP입니다. 백엔드 서버와의 일반 텍스트 HTTP 통신을 허용하기 위해 로드 밸런서에서 수신 HTTPS 트래픽을 종료해야 합니다. 백엔드 프로토콜이 HTTPS이면 로드 밸런서와 백엔드 서버 사이에 트래픽이 암호화됩니다.

### 고려사항
{: #considerations}

* 초기 구성 중에 최대 두 개의 프론트 엔드 포트만 정의할 수 있습니다. 로드 밸런서가 작성되면 포트 구성을 편집하여 최대 열 개의 추가 포트를 정의할 수 있습니다.
* 열 개의 모든 프론트 엔드 포트는 백엔드 서버 인스턴스의 동일한 세트에 맵핑해야 합니다.
* 로드 밸런서 뒤에 배치될 수 있는 최대 서버 인스턴스 수는 50입니다.
* 56500 - 56520의 포트 범위는 관리 목적용으로 예약되어 있으며 프론트 엔드 가상 포트로 사용할 수 없습니다.
* TCP 포트 56501은 관리에 사용됩니다. 공용 VLAN에서 로드 밸런서 공용 IP 주소를 할당하도록 선택한 경우, 공용 VLAN에 배치된 방화벽이 애플리케이션의 포트뿐만 아니라 이 관리 포트에 대한 트래픽을 차단하지 않는지 확인하십시오. 로드 밸런서 공용 IP 주소를 할당하기 위해 IBM 시스템 풀 옵션을 선택한 경우에는 앞의 내용이 필수적이지 않습니다.

## 로드 밸런싱 메소드
{: #load-balancing-methods}

다음 세 개의 로드 밸런싱 메소드는 백엔드 애플리케이션 서버에 트래픽을 분배하는 데 사용할 수 있습니다.

* **라운드 로빈:** 라운드 로빈은 기본 로드 밸런싱 메소드입니다. 로드 밸런서는 이 메소드를 사용하여 라운드 로빈 방식으로 수신 클라이언트 연결을 백엔드 서버에 전달합니다. 결과적으로, 모든 백엔드 서버는 거의 동일한 수의 클라이언트 연결을 수신합니다.

* **가중치 라운드 로빈:** 로드 밸런서는 이 메소드를 사용하여 백엔드 서버에 지정된 가중치에 따라 수신 클라이언트 연결을 백엔드 서버에 전달합니다. 각 서버는 기본 가중치인 50으로 지정되며 0 - 100 사이의 값으로 사용자 정의될 수 있습니다.

	예를 들어, A, B 및 C의 세 가지 애플리케이션 서버가 있고 가중치는 각각 60, 60 및 30으로 사용자 정의되는 경우 서버 A 및 B는 동일한 수의 연결을 수신하지만 C는 이의 절반에 해당하는 연결을 수신합니다.


	서버 가중치를 ‘0’으로 다시 설정하는 것은 해당 서버로 새 연결을 전달하지 않지만 기존 트래픽이 활성인 한 계속 전달함을 의미합니다. ‘0’의 가중치를 사용하면 서버를 안전하게 중지하고 서비스 로테이션에서 서버를 제거할 수 있습니다.
	{: note}

	서버 가중치 값은 '가중치 라운드 로빈' 메소드로만 적용 가능합니다. '라운드 로빈' 및 '최소 연결' 로드 밸런싱 매소드는 무시됩니다.
	{: note}

* **최소 연결:** 지정된 시간에 최소 수의 연결을 수행하는 서버 인스턴스는 이 메소드를 사용하여 다음 클라이언트 연결을 수신합니다.

## 수평적 확장
{: #horizontal-scaling}

로드 밸런서는 로드에 따라 용량을 자동으로 조정합니다. 조정이 발생하는 경우, 로드 밸런서의 DNS 이름과 연관된 IP 주소의 수가 변경되는 것을 볼 수 있습니다.
